{"version":3,"file":"ng-identity-map.min.js","sources":["ng-identity-map.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"traverse","angular","module","provider","this","$get","collection","collectionKey","entityKey","type","requireConstructor","isFunction","prototype","identity","TypeError","isString","name","entity","requireEntity","set","replace","cKey","eKey","_this","get","keyOrEntity","update","branches","map","path","existingTraverse","k","newTraverse","_i","_len","value","clear",2,"Traverse","obj","walk","root","cb","immutable","parents","alive","walker","node_","updateState","state","node","keys","objectKeys","isLeaf","circular","notLeaf","notRoot","isRoot","copy","modifiers","keepGoing","concat","parent","key","slice","level","x","stopHere","delete","remove","isArray","splice","before","after","pre","post","stop","block","ret","undefined","push","forEach","child","hasOwnProperty","isLast","isFirst","pop","src","dst","isDate","Date","getTime","isRegExp","RegExp","isError","message","isBoolean","Boolean","isNumber","Number","String","Object","create","getPrototypeOf","constructor","proto","__proto__","T","toS","toString","ps","has","reduce","init","skip","arguments","acc","paths","nodes","clone","res","Array","xs","fn","args","apply"],"mappings":"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"}